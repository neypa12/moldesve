<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moldes.ve - Catálogo de Productos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* TODO EL CSS ANTERIOR PERMANECE IGUAL */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background-color: #f0f9f8;
            color: #333;
            line-height: 1.4;
            padding-bottom: 25px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 12px;
        }
        
        /* Encabezado y perfil */
        header {
            text-align: center;
            padding: 22px 0 15px;
            background: linear-gradient(135deg, #0ea5a5 0%, #14b8b8 100%);
            color: white;
            border-radius: 0 0 12px 12px;
            margin-bottom: 22px;
            box-shadow: 0 2px 8px rgba(14, 165, 165, 0.25);
        }
        
        .profile-container {
            margin-bottom: 8px;
        }
        
        .profile-circle {
            width: 85px;
            height: 85px;
            border-radius: 50%;
            margin: 0 auto 8px;
            overflow: hidden;
            border: 4px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            background-color: #f1f1f1;
        }
        
        .profile-circle img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        h1 {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 4px;
            letter-spacing: 0.3px;
            text-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
        }
        
        .tagline {
            font-size: 16px;
            opacity: 0.95;
            margin-bottom: 4px;
            font-weight: 500;
        }
        
        /* Buscador REDUCIDO */
        .search-container {
            max-width: 500px;
            margin: 20px auto 25px;
            padding: 0 15px;
        }
        
        .search-box {
            display: flex;
            background: white;
            border-radius: 30px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(14, 165, 165, 0.2);
            border: 2px solid #e0f2f2;
            height: 50px;
        }
        
        .search-box input {
            flex: 1;
            border: none;
            padding: 0 20px;
            font-size: 15px;
            outline: none;
            color: #0d7377;
            font-weight: 500;
        }
        
        .search-box input::placeholder {
            color: #7dc5c5;
            font-weight: 500;
        }
        
        .search-box button {
            background: #0ea5a5;
            color: white;
            border: none;
            padding: 0 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .search-box button:hover {
            background: #0d8a8a;
        }
        
        /* Categorías REDUCIDAS */
        .categories {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 25px;
            padding: 0 15px;
        }
        
        .category-tag {
            background: white;
            padding: 8px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 3px 8px rgba(14, 165, 165, 0.15);
            border: 2px solid #e0f2f2;
            color: #0d7377;
            font-size: 14px;
        }
        
        .category-tag:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 12px rgba(14, 165, 165, 0.2);
        }
        
        .category-tag.active {
            background: #0ea5a5;
            color: white;
            border-color: #0ea5a5;
            box-shadow: 0 5px 12px rgba(14, 165, 165, 0.25);
        }
        
        /* GRID RESPONSIVE - MÁXIMO 3 PRODUCTOS POR FILA - ANCHO MÁXIMO 250px */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(3, 250px);
            gap: 20px;
            margin-bottom: 20px;
            padding: 20px 0;
            justify-content: center;
        }
        
        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(14, 165, 165, 0.15);
            transition: all 0.3s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            width: 250px;
            max-width: 250px;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(14, 165, 165, 0.25);
        }
        
        /* CONTENEDOR DE IMAGEN CON RELACIÓN 16:9 FIJA */
        .product-img-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%;
            background-color: #f0f9f8;
            overflow: hidden;
        }
        
        .product-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: #0ea5a5;
            border-bottom: 2px solid #e0f2f2;
        }
        
        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .product-info {
            padding: 15px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            flex-grow: 1;
        }
        
        .product-name {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #0d7377;
            line-height: 1.3;
            text-align: center;
        }
        
        .product-price {
            font-size: 20px;
            font-weight: 800;
            color: #0ea5a5;
            text-align: center;
        }
        
        .product-price .old-price {
            text-decoration: line-through;
            color: #999;
            font-size: 16px;
            font-weight: normal;
            display: block;
            margin-bottom: 2px;
        }
        
        .product-price .discount-badge {
            background: #ff6b6b;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 5px;
        }
        
        .product-price span {
            font-size: 14px;
            font-weight: 600;
            color: #7dc5c5;
        }
        
        /* Pie de página */
        footer {
            text-align: center;
            margin-top: 35px;
            padding-top: 15px;
            border-top: 2px solid #e0f2f2;
            color: #0d7377;
            font-size: 14px;
            font-weight: 600;
        }
        
        /* RESPONSIVE BREAKPOINTS */
        @media (max-width: 850px) {
            .products-grid {
                grid-template-columns: repeat(2, 250px);
                gap: 15px;
            }
        }
        
        @media (max-width: 600px) {
            .products-grid {
                grid-template-columns: repeat(1, 250px);
                gap: 15px;
            }
            
            .product-img {
                font-size: 35px;
            }
            
            .product-info {
                padding: 12px;
            }
            
            .product-name {
                font-size: 15px;
            }
            
            .product-price {
                font-size: 18px;
            }
            
            .category-tag {
                padding: 7px 15px;
                font-size: 13px;
            }
            
            h1 {
                font-size: 22px;
            }
            
            .profile-circle {
                width: 75px;
                height: 75px;
            }
            
            .tagline {
                font-size: 14px;
            }
            
            .search-box input {
                padding: 0 15px;
                font-size: 14px;
            }
            
            .search-box button {
                padding: 0 15px;
                font-size: 14px;
            }
            
            .search-box {
                height: 45px;
            }
            
            .container {
                padding: 0 10px;
            }
        }
        
        /* POPUP ESTILOS - RELACIÓN 16:9 - MODIFICACIONES SOLICITADAS */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .popup-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Contenedor principal del popup */
        .popup-content {
            background-color: white;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: row;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .popup-overlay.active .popup-content {
            transform: scale(1);
        }
        
        /* Izquierda - Imágenes con relación 16:9 */
        .popup-left {
            flex: 1;
            background-color: #f0f9f8;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            min-width: 300px;
        }
        
        /* Contenedor de imagen principal con relación 16:9 */
        .popup-image-container {
            width: 100%;
            padding-top: 56.25%;
            position: relative;
            overflow: hidden;
        }
        
        .popup-main-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 70px;
            color: #0ea5a5;
            background-color: white;
        }
        
        .popup-main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* GALERÍA DE IMÁGENES EN MINIATURA - AHORA VISIBLE */
        .image-gallery {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 15px 0;
            width: 100%;
            overflow-x: auto;
            background-color: #f0f9f8;
        }
        
        .thumbnail {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s;
            flex-shrink: 0;
        }
        
        .thumbnail:hover {
            border-color: #0ea5a5;
        }
        
        .thumbnail.active {
            border-color: #0ea5a5;
            box-shadow: 0 0 8px rgba(14, 165, 165, 0.5);
        }
        
        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .next-image-btn {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background-color: #0ea5a5;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px;
            box-shadow: 0 3px 8px rgba(14, 165, 165, 0.3);
            transition: all 0.2s;
            z-index: 10;
        }
        
        .next-image-btn:hover {
            background-color: #0d8a8a;
            transform: translateY(-50%) scale(1.1);
        }
        
        /* Botón anterior */
        .prev-image-btn {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background-color: #0ea5a5;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px;
            box-shadow: 0 3px 8px rgba(14, 165, 165, 0.3);
            transition: all 0.2s;
            z-index: 10;
        }
        
        .prev-image-btn:hover {
            background-color: #0d8a8a;
            transform: translateY(-50%) scale(1.1);
        }
        
        /* Derecha - Información CON UNA SOLA BARRA DE SCROLL */
        .popup-right {
            flex: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
            min-width: 300px;
            overflow-y: auto;
            max-height: 70vh;
        }
        
        .popup-product-name {
            font-size: 22px;
            color: #0d7377;
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        /* 1. PRECIO CON TAMAÑO MÁXIMO DE 18px */
        .popup-price {
            font-size: 18px;
            color: #0ea5a5;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .popup-price .old-price {
            text-decoration: line-through;
            color: #999;
            font-size: 16px;
            font-weight: normal;
            margin-right: 10px;
        }
        
        .popup-price .discount-badge {
            background: #ff6b6b;
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .popup-currency {
            font-size: 16px;
            color: #0d7377;
            font-weight: 500;
        }
        
        /* 2. BOTONES DE TAMAÑO PEQUEÑOS AL LADO DE LA PREGUNTA */
        .size-options {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .size-title {
            font-size: 16px;
            color: #0d7377;
            font-weight: 600;
            margin-bottom: 0;
            white-space: nowrap;
        }
        
        .size-buttons {
            display: flex;
            gap: 8px;
        }
        
        .size-btn {
            padding: 6px 12px;
            background-color: #f0f9f8;
            border: 2px solid #c2e7e7;
            border-radius: 6px;
            color: #0d7377;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            font-size: 14px;
            white-space: nowrap;
        }
        
        .size-btn:hover {
            background-color: #e0f2f2;
        }
        
        .size-btn.active {
            background-color: #0ea5a5;
            color: white;
            border-color: #0ea5a5;
        }
        
        /* ETIQUETAS (TAGS) */
        .tags-section {
            margin-bottom: 20px;
        }
        
        .tags-title {
            font-size: 16px;
            color: #0d7377;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .tag {
            background-color: #e0f2f2;
            color: #0d7377;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
        }
        
        .characteristics {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e0f2f2;
        }
        
        .characteristics-title {
            font-size: 16px;
            color: #0d7377;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .characteristics-text {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }
        
        /* Estilo para la barra de desplazamiento (SOLO UNA) */
        .popup-right::-webkit-scrollbar {
            width: 6px;
        }
        
        .popup-right::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        
        .popup-right::-webkit-scrollbar-thumb {
            background: #0ea5a5;
            border-radius: 3px;
        }
        
        .popup-right::-webkit-scrollbar-thumb:hover {
            background: #0d8a8a;
        }
        
        .close-popup {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: rgba(255, 255, 255, 0.9);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            color: #0d7377;
            z-index: 100;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .close-popup:hover {
            background-color: white;
            transform: scale(1.1);
            color: #0ea5a5;
        }
        
        /* 3. RESPONSIVE PARA EL POPUP - SCROLL COMPLETO EN MÓVIL */
        @media (max-width: 768px) {
            .popup-content {
                flex-direction: column;
                width: 95%;
                max-width: 500px;
                max-height: 85vh;
                overflow-y: auto;
            }
            
            .popup-left, .popup-right {
                min-width: auto;
            }
            
            .popup-left {
                min-height: 250px;
                flex-shrink: 0;
            }
            
            .popup-right {
                padding: 20px;
                max-height: none;
                overflow-y: visible;
            }
            
            .popup-product-name {
                font-size: 20px;
            }
            
            .popup-price {
                font-size: 18px;
            }
            
            .popup-main-image {
                font-size: 60px;
            }
            
            .image-gallery {
                padding: 10px 0;
            }
            
            .thumbnail {
                width: 50px;
                height: 50px;
            }
        }
        
        @media (max-width: 480px) {
            .popup-content {
                max-width: 350px;
            }
            
            .popup-left {
                min-height: 200px;
            }
            
            .popup-main-image {
                font-size: 50px;
            }
            
            .popup-product-name {
                font-size: 18px;
            }
            
            .popup-price {
                font-size: 18px;
            }
            
            .size-btn {
                padding: 6px 10px;
                font-size: 13px;
            }
            
            .size-title {
                font-size: 15px;
            }
            
            .characteristics-text {
                font-size: 13px;
            }
            
            .size-options {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .size-buttons {
                width: 100%;
                justify-content: flex-start;
            }
        }

        /* NUEVO: ESTILOS PARA EL FORMULARIO DE WHATSAPP */
        .whatsapp-section {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #e0f2f2;
        }

        .whatsapp-btn {
            width: 100%;
            padding: 14px;
            background-color: #25D366;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 10px rgba(37, 211, 102, 0.3);
        }

        .whatsapp-btn:hover {
            background-color: #1da851;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(37, 211, 102, 0.4);
        }

        .whatsapp-btn:active {
            transform: translateY(-1px);
        }

        /* 1. AVISO VISUAL ANTES DEL FORMULARIO - FONDO AMARILLO SUAVE */
        .fabrication-notice {
            background-color: #fff9e6;
            border: 1px solid #ffd54f;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            display: none;
            align-items: flex-start;
            gap: 12px;
            animation: fadeIn 0.5s ease;
            box-shadow: 0 3px 8px rgba(255, 213, 79, 0.1);
        }
        
        .fabrication-notice.active {
            display: flex;
        }
        
        .fabrication-notice i {
            color: #ff9800;
            font-size: 20px;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .fabrication-notice p {
            color: #5d4037;
            font-size: 14px;
            line-height: 1.5;
            margin: 0;
            font-weight: 500;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .whatsapp-form {
            margin-top: 15px;
            padding: 20px;
            background-color: #f8fdf8;
            border-radius: 10px;
            border: 2px solid #e0f2f2;
            display: none;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .whatsapp-form.active {
            display: block;
        }

        .form-title {
            font-size: 18px;
            color: #0d7377;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .form-info {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            flex: 1;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            color: #0d7377;
            margin-bottom: 6px;
            font-weight: 600;
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #c2e7e7;
            border-radius: 8px;
            font-size: 15px;
            color: #0d7377;
            background-color: white;
            transition: all 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #0ea5a5;
            box-shadow: 0 0 0 3px rgba(14, 165, 165, 0.2);
        }

        .form-group input::placeholder {
            color: #7dc5c5;
        }

        .form-notice {
            background-color: #e8f4fc;
            padding: 12px;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-notice p {
            font-size: 14px;
            color: #0d7377;
            margin: 0;
        }

        .form-notice i {
            color: #0ea5a5;
            font-size: 16px;
        }

        .submit-request-btn {
            width: 100%;
            padding: 16px;
            background-color: #25D366;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 10px rgba(37, 211, 102, 0.3);
        }

        .submit-request-btn:hover {
            background-color: #1da851;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(37, 211, 102, 0.4);
        }

        .submit-request-btn:active {
            transform: translateY(-1px);
        }

        /* LOADER PARA CARGA DE DATOS */
        .loader {
            display: none;
            text-align: center;
            padding: 30px;
            color: #0d7377;
        }
        
        .loader.active {
            display: block;
        }
        
        .loader i {
            font-size: 40px;
            margin-bottom: 15px;
            color: #0ea5a5;
        }

        /* Estilos responsivos para el formulario */
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 12px;
            }
            
            .whatsapp-btn, .submit-request-btn {
                padding: 12px;
                font-size: 15px;
            }
            
            .fabrication-notice {
                padding: 12px;
            }
        }

        @media (max-width: 480px) {
            .whatsapp-form {
                padding: 15px;
            }
            
            .form-title {
                font-size: 16px;
            }
            
            .form-group input {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .whatsapp-btn, .submit-request-btn {
                font-size: 14px;
                padding: 12px;
            }
            
            .fabrication-notice p {
                font-size: 13px;
            }
            
            .fabrication-notice i {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="loader" id="loader">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Cargando catálogo de productos...</p>
    </div>
    
    <div id="content" style="display: none;">
        <header>
            <div class="container">
                <div class="profile-container">
                    <div class="profile-circle">
                        <img src="https://i.ibb.co/ynbXdH7k/profile-image.jpg" alt="Foto de perfil moldes.ve" id="profileImage">
                    </div>
                    <h1 id="storeName">moldes.ve</h1>
                    <p class="tagline" id="storeTagline">Moldes de silicona y más...</p>
                </div>
            </div>
        </header>
        
        <main class="container">
            <!-- Buscador REDUCIDO -->
            <div class="search-container">
                <div class="search-box">
                    <input type="text" placeholder="Buscar productos..." id="searchInput">
                    <button id="searchButton"><i class="fas fa-search"></i></button>
                </div>
            </div>
            
            <!-- Categorías REDUCIDAS - SE GENERAN AUTOMÁTICAMENTE -->
            <div class="categories" id="categoriesContainer">
                <!-- Las categorías se cargan aquí automáticamente -->
                <div class="category-tag active" data-category="all">Todos</div>
            </div>
            
            <!-- Todos los productos en grid de 3 columnas - SE GENERAN AUTOMÁTICAMENTE -->
            <div class="products-grid" id="productsGrid">
                <!-- Los productos se cargan aquí automáticamente -->
                <div class="loader">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Cargando productos...</p>
                </div>
            </div>
        </main>
        
        <footer class="container">
            <p id="footerText">© 2023 moldes.ve - Todos los derechos reservados</p>
        </footer>
        
        <!-- POPUP DE PRODUCTO -->
        <div class="popup-overlay" id="productPopup">
            <div class="popup-content">
                <button class="close-popup" id="closePopup">
                    <i class="fas fa-times"></i>
                </button>
                
                <div class="popup-left">
                    <div class="popup-image-container">
                        <div class="popup-main-image" id="popupMainImage">
                            <i class="fas fa-box"></i>
                        </div>
                    </div>
                    
                    <div class="image-gallery" id="imageGallery"></div>
                    
                    <!-- Botón anterior -->
                    <button class="prev-image-btn" id="prevImageBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    
                    <!-- Botón siguiente -->
                    <button class="next-image-btn" id="nextImageBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <div class="popup-right">
                    <div>
                        <h2 class="popup-product-name" id="popupProductName">Cargando producto...</h2>
                        
                        <div class="popup-price" id="popupPrice">
                            Precio: $<span id="popupPriceValue">0.00</span> <span class="popup-currency" id="popupCurrency">USD</span>
                        </div>
                        
                        <!-- 2. BOTONES DE TAMAÑO PEQUEÑOS AL LADO DE LA PREGUNTA -->
                        <div class="size-options">
                            <h3 class="size-title">Elegir tamaño:</h3>
                            <div class="size-buttons" id="sizeOptions">
                                <!-- Los botones de tamaño se cargan aquí -->
                            </div>
                        </div>
                        
                        <!-- NUEVA SECCIÓN: ETIQUETAS (TAGS) -->
                        <div class="tags-section" id="tagsSection" style="display: none;">
                            <h3 class="tags-title">Etiquetas:</h3>
                            <div class="tags-container" id="tagsContainer">
                                <!-- Las etiquetas se cargan aquí -->
                            </div>
                        </div>
                        
                        <div class="characteristics">
                            <h3 class="characteristics-title">Características:</h3>
                            <p class="characteristics-text" id="popupCharacteristics">
                                Cargando características...
                            </p>
                        </div>

                        <!-- NUEVA SECCIÓN: FORMULARIO DE WHATSAPP -->
                        <div class="whatsapp-section">
                            <button class="whatsapp-btn" id="whatsappBtn">
                                <i class="fab fa-whatsapp"></i> Pedir fabricación por WhatsApp
                            </button>
                            
                            <!-- AVISO VISUAL DE FABRICACIÓN -->
                            <div class="fabrication-notice" id="fabricationNotice">
                                <i class="fas fa-info-circle"></i>
                                <p>Iniciamos fabricación con el 50% de adelanto. El resto se paga al retirar el producto.</p>
                            </div>
                            
                            <div class="whatsapp-form" id="whatsappForm">
                                <h3 class="form-title">Solicitar fabricación</h3>
                                <p class="form-info">Complete sus datos para enviar la solicitud por WhatsApp</p>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="clientName">Nombre *</label>
                                        <input type="text" id="clientName" placeholder="Ej: María" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="clientLastName">Apellido *</label>
                                        <input type="text" id="clientLastName" placeholder="Ej: González" required>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="clientPhone">Teléfono *</label>
                                        <input type="tel" id="clientPhone" placeholder="Ej: 584141234567" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="clientCity">Ciudad *</label>
                                        <input type="text" id="clientCity" placeholder="Ej: Caracas" required>
                                    </div>
                                </div>
                                
                                <div class="form-notice">
                                    <p><i class="fas fa-info-circle"></i> Todos los campos son obligatorios.</p>
                                </div>
                                
                                <button class="submit-request-btn" id="submitRequestBtn">
                                    <i class="fab fa-whatsapp"></i> Enviar solicitud por WhatsApp
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
// =============================================
// CONFIGURACIÓN - ¡EDITA SOLO ESTO!
// =============================================

// Ruta al archivo JSON (en el mismo directorio)
const DATA_JSON_URL = 'data.json';

// =============================================
// NO MODIFIQUES NADA DEBAJO DE ESTA LÍNEA
// =============================================

// Variables globales
let tiendaData = {
  productos: [],
  categorias: [],
  config: {}
};

let currentProductId = null;
let currentImageIndex = 0;
let selectedSize = "8cm";
let currentProductImages = [];

// Cargar datos desde el archivo JSON
async function cargarDatosDesdeJSON() {
    try {
        console.log('Cargando datos desde JSON...');
        
        const response = await fetch(DATA_JSON_URL);
        if (!response.ok) throw new Error('Error cargando datos');
        
        const data = await response.json();
        
        // Asignar los datos
        tiendaData.productos = data.productos || [];
        tiendaData.categorias = data.categorias || [];
        tiendaData.config = data.config || {};
        
        // Filtrar solo productos activos
        tiendaData.productos = tiendaData.productos.filter(p => {
            const activo = p.activo || p.Activo || p.ACTIVO;
            return activo && (activo === true || activo === 'true' || activo === '1' || activo === 'sí' || activo === 'si');
        });
        
        console.log('Datos cargados correctamente:', {
            productos: tiendaData.productos.length,
            categorias: tiendaData.categorias.length,
            config: tiendaData.config
        });
        
        return true;
    } catch (error) {
        console.error('Error cargando datos:', error);
        return false;
    }
}

// Mostrar productos en la página
function mostrarProductos() {
    const grid = document.getElementById('productsGrid');
    grid.innerHTML = '';
    
    if (tiendaData.productos.length === 0) {
        grid.innerHTML = `
            <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: #666;">
                <i class="fas fa-box-open" style="font-size: 50px; margin-bottom: 20px; color: #ccc;"></i>
                <h3>No hay productos disponibles</h3>
                <p>Agrega productos a tu archivo JSON</p>
            </div>
        `;
        return;
    }
    
    tiendaData.productos.forEach(producto => {
        // Calcular precio con descuento
        const precioBase = parseFloat(producto.precio || producto.Precio || producto['Precio Base'] || 0);
        const descuento = parseInt(producto.descuento || producto.Descuento || producto['Descuento%'] || 0);
        const precioFinal = descuento > 0 ? 
            precioBase * (1 - descuento / 100) : 
            precioBase;
        
        // Determinar qué imagen mostrar (primera imagen del array o imagen principal)
        let imagenURL = '';
        if (producto.imagenes && producto.imagenes.length > 0) {
            imagenURL = producto.imagenes[0];
        } else if (producto.imagen || producto.Imagen || producto['Imagen Principal']) {
            imagenURL = producto.imagen || producto.Imagen || producto['Imagen Principal'];
        }
        
        const tieneImagen = imagenURL && (imagenURL.startsWith('http') || imagenURL.startsWith('https') || imagenURL.startsWith('data:'));
        
        const card = document.createElement('div');
        card.className = 'product-card';
        card.setAttribute('data-product', producto.id || producto.ID);
        
        card.innerHTML = `
            <div class="product-img-container">
                <div class="product-img">
                    ${tieneImagen ? 
                        `<img src="${imagenURL}" alt="${producto.nombre || producto.Nombre}" 
                              onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\"fas fa-box\"></i>';">` : 
                        `<i class="fas fa-box"></i>`
                    }
                </div>
            </div>
            <div class="product-info">
                <h3 class="product-name">${producto.nombre || producto.Nombre || 'Producto sin nombre'}</h3>
                <div class="product-price">
                    ${descuento > 0 ? 
                        `<span class="old-price">$${precioBase.toFixed(2)}</span>` : 
                        ''
                    }
                    $${precioFinal.toFixed(2)}
                    ${descuento > 0 ? 
                        `<span class="discount-badge">-${descuento}%</span>` : 
                        ''
                    }
                    <span>${tiendaData.config.moneda || tiendaData.config.Moneda || 'USD'}</span>
                </div>
            </div>
        `;
        
        card.addEventListener('click', () => abrirPopupProducto(producto.id || producto.ID));
        grid.appendChild(card);
    });
}

// Mostrar categorías
function mostrarCategorias() {
    const container = document.getElementById('categoriesContainer');
    container.innerHTML = '';
    
    // Agregar "Todos" primero
    const todosBtn = document.createElement('div');
    todosBtn.className = 'category-tag active';
    todosBtn.setAttribute('data-category', 'all');
    todosBtn.textContent = 'Todos';
    todosBtn.addEventListener('click', () => filtrarPorCategoria('all'));
    container.appendChild(todosBtn);
    
    // Agregar categorías desde JSON
    if (tiendaData.categorias && tiendaData.categorias.length > 0) {
        tiendaData.categorias.forEach(categoria => {
            const tag = document.createElement('div');
            tag.className = 'category-tag';
            tag.setAttribute('data-category', categoria.id || categoria.ID || categoria.nombre || categoria.Nombre);
            tag.textContent = categoria.nombre || categoria.Nombre || 'Categoría';
            tag.addEventListener('click', () => filtrarPorCategoria(categoria.id || categoria.ID || categoria.nombre || categoria.Nombre));
            container.appendChild(tag);
        });
    }
}

// Filtrar productos por categoría
function filtrarPorCategoria(categoriaId) {
    // Actualizar botones activos
    document.querySelectorAll('.category-tag').forEach(tag => {
        tag.classList.remove('active');
        if (tag.getAttribute('data-category') === categoriaId) {
            tag.classList.add('active');
        }
    });
    
    // Filtrar productos
    const cards = document.querySelectorAll('.product-card');
    cards.forEach(card => {
        const productId = card.getAttribute('data-product');
        const producto = tiendaData.productos.find(p => (p.id || p.ID) == productId);
        
        if (categoriaId === 'all' || !producto) {
            card.style.display = 'flex';
        } else {
            const categoriaProducto = producto.categoria || producto.Categoría || producto.Categoria;
            card.style.display = categoriaProducto == categoriaId ? 'flex' : 'none';
        }
    });
}

// Configurar buscador
function configurarBuscador() {
    const searchInput = document.getElementById('searchInput');
    const searchButton = document.getElementById('searchButton');
    
    function realizarBusqueda() {
        const termino = searchInput.value.toLowerCase().trim();
        const cards = document.querySelectorAll('.product-card');
        
        cards.forEach(card => {
            const productId = card.getAttribute('data-product');
            const producto = tiendaData.productos.find(p => (p.id || p.ID) == productId);
            const nombre = (producto.nombre || producto.Nombre || '').toLowerCase();
            
            card.style.display = nombre.includes(termino) || termino === '' ? 'flex' : 'none';
        });
    }
    
    searchButton.addEventListener('click', realizarBusqueda);
    searchInput.addEventListener('keyup', (e) => e.key === 'Enter' && realizarBusqueda());
}

// Configurar información de la tienda
function configurarTienda() {
    const config = tiendaData.config;
    
    // Nombre de la tienda
    if (config.nombreTienda || config['Nombre Tienda'] || config.NOMBRE_TIENDA) {
        document.getElementById('storeName').textContent = config.nombreTienda || config['Nombre Tienda'] || config.NOMBRE_TIENDA;
    }
    
    // Tagline
    if (config.tagline || config.Tagline || config.TAGLINE) {
        document.getElementById('storeTagline').textContent = config.tagline || config.Tagline || config.TAGLINE;
    }
    
    // Logo/Imagen de perfil
    if (config.logo || config.Logo || config.LOGO) {
        document.getElementById('profileImage').src = config.logo || config.Logo || config.LOGO;
    }
    
    // WhatsApp
    if (config.whatsapp || config.WhatsApp || config.WHATSAPP) {
        window.whatsappNumber = config.whatsapp || config.WhatsApp || config.WHATSAPP;
    }
    
    // Año del copyright
    const year = new Date().getFullYear();
    const nombreTienda = config.nombreTienda || config['Nombre Tienda'] || config.NOMBRE_TIENDA || 'moldes.ve';
    document.getElementById('footerText').textContent = 
        `© ${year} ${nombreTienda} - Todos los derechos reservados`;
}

// Funcionalidad del popup
function abrirPopupProducto(productId) {
    const producto = tiendaData.productos.find(p => (p.id || p.ID) == productId);
    if (!producto) return;
    
    currentProductId = productId;
    currentImageIndex = 0;
    
    // Obtener array de imágenes
    currentProductImages = [];
    if (producto.imagenes && Array.isArray(producto.imagenes)) {
        currentProductImages = producto.imagenes;
    } else if (producto.imagen || producto.Imagen || producto['Imagen Principal']) {
        currentProductImages = [producto.imagen || producto.Imagen || producto['Imagen Principal']];
    }
    
    // Actualizar información del popup
    document.getElementById('popupProductName').textContent = producto.nombre || producto.Nombre || 'Producto';
    document.getElementById('popupCharacteristics').textContent = producto.descripcion || producto.Descripción || producto.Descripcion || producto.caracteristicas || producto.Características || '';
    
    // Actualizar imagen principal
    actualizarImagenPopup();
    
    // Actualizar miniaturas
    actualizarMiniaturas();
    
    // Actualizar precios y tamaños
    actualizarPreciosYTamanos(producto);
    
    // Actualizar etiquetas (tags)
    actualizarEtiquetas(producto);
    
    // Ocultar formulario de WhatsApp si estaba abierto
    document.getElementById('whatsappForm').classList.remove('active');
    document.getElementById('fabricationNotice').classList.remove('active');
    document.getElementById('whatsappBtn').innerHTML = '<i class="fab fa-whatsapp"></i> Pedir fabricación por WhatsApp';
    
    // Mostrar popup
    document.getElementById('productPopup').classList.add('active');
    document.body.style.overflow = 'hidden';
}

function actualizarImagenPopup() {
    const popupImage = document.getElementById('popupMainImage');
    
    if (currentProductImages.length === 0) {
        popupImage.innerHTML = '<i class="fas fa-box"></i>';
        return;
    }
    
    const imagenURL = currentProductImages[currentImageIndex];
    if (imagenURL && (imagenURL.startsWith('http') || imagenURL.startsWith('https') || imagenURL.startsWith('data:'))) {
        popupImage.innerHTML = `<img src="${imagenURL}" alt="Imagen ${currentImageIndex + 1} del producto">`;
    } else {
        popupImage.innerHTML = '<i class="fas fa-box"></i>';
    }
}

function actualizarMiniaturas() {
    const gallery = document.getElementById('imageGallery');
    
    if (currentProductImages.length <= 1) {
        gallery.innerHTML = '';
        return;
    }
    
    gallery.innerHTML = '';
    
    currentProductImages.forEach((imagenURL, index) => {
        const thumbnail = document.createElement('div');
        thumbnail.className = `thumbnail ${index === currentImageIndex ? 'active' : ''}`;
        thumbnail.setAttribute('data-index', index);
        
        if (imagenURL && (imagenURL.startsWith('http') || imagenURL.startsWith('https') || imagenURL.startsWith('data:'))) {
            thumbnail.innerHTML = `<img src="${imagenURL}" alt="Miniatura ${index + 1}">`;
        } else {
            thumbnail.innerHTML = '<i class="fas fa-box"></i>';
        }
        
        thumbnail.addEventListener('click', () => {
            currentImageIndex = index;
            actualizarImagenPopup();
            actualizarMiniaturas();
        });
        
        gallery.appendChild(thumbnail);
    });
}

function actualizarPreciosYTamanos(producto) {
    const precioBase = parseFloat(producto.precio || producto.Precio || producto['Precio Base'] || 0);
    const descuento = parseInt(producto.descuento || producto.Descuento || producto['Descuento%'] || 0);
    const precioFinal = descuento > 0 ? 
        precioBase * (1 - descuento / 100) : 
        precioBase;
    
    // Mostrar precio
    const precioElement = document.getElementById('popupPrice');
    const moneda = tiendaData.config.moneda || tiendaData.config.Moneda || 'USD';
    
    let precioHTML = '';
    if (descuento > 0) {
        precioHTML = `
            <span class="old-price">$${precioBase.toFixed(2)}</span>
            $<span id="popupPriceValue">${precioFinal.toFixed(2)}</span>
            <span class="popup-currency">${moneda}</span>
            <span class="discount-badge">-${descuento}%</span>
        `;
    } else {
        precioHTML = `
            $<span id="popupPriceValue">${precioFinal.toFixed(2)}</span>
            <span class="popup-currency">${moneda}</span>
        `;
    }
    
    precioElement.innerHTML = `Precio: ${precioHTML}`;
    
    // Crear botones de tamaños
    const tamanosTexto = producto.tamanos || producto.Tamaños || producto['Tamaños Disponibles'] || '';
    const sizeButtons = document.getElementById('sizeOptions');
    sizeButtons.innerHTML = '';
    
    if (tamanosTexto) {
        try {
            // Intentar parsear como JSON
            const tamanos = typeof tamanosTexto === 'string' ? JSON.parse(tamanosTexto) : tamanosTexto;
            const tamanoKeys = Object.keys(tamanos);
            
            if (tamanoKeys.length > 0) {
                tamanoKeys.forEach((tamano, index) => {
                    const precioTamano = parseFloat(tamanos[tamano]);
                    const precioConDescuento = descuento > 0 ? 
                        precioTamano * (1 - descuento / 100) : 
                        precioTamano;
                    
                    const button = document.createElement('button');
                    button.className = `size-btn ${index === 0 ? 'active' : ''}`;
                    button.setAttribute('data-size', tamano);
                    button.setAttribute('data-price', precioConDescuento);
                    button.textContent = tamano;
                    
                    button.addEventListener('click', function() {
                        document.querySelectorAll('.size-btn').forEach(btn => btn.classList.remove('active'));
                        this.classList.add('active');
                        selectedSize = this.getAttribute('data-size');
                        document.getElementById('popupPriceValue').textContent = parseFloat(this.getAttribute('data-price')).toFixed(2);
                    });
                    
                    sizeButtons.appendChild(button);
                });
                
                // Establecer primer tamaño como seleccionado
                selectedSize = tamanoKeys[0];
            } else {
                crearBotonUnicoTamaño(precioFinal);
            }
        } catch (e) {
            // Si no es JSON válido, mostrar un solo botón
            crearBotonUnicoTamaño(precioFinal);
        }
    } else {
        // Sin tamaños específicos
        crearBotonUnicoTamaño(precioFinal);
    }
}

function actualizarEtiquetas(producto) {
    const tagsSection = document.getElementById('tagsSection');
    const tagsContainer = document.getElementById('tagsContainer');
    tagsContainer.innerHTML = '';
    
    // Obtener etiquetas del producto
    let etiquetas = [];
    if (producto.etiquetas && Array.isArray(producto.etiquetas)) {
        etiquetas = producto.etiquetas;
    } else if (producto.etiquetas || producto.Etiquetas || producto.tags || producto.Tags) {
        // Intentar parsear si es una cadena JSON
        const tagsTexto = producto.etiquetas || producto.Etiquetas || producto.tags || producto.Tags;
        try {
            etiquetas = typeof tagsTexto === 'string' ? JSON.parse(tagsTexto) : tagsTexto;
            if (!Array.isArray(etiquetas)) etiquetas = [];
        } catch (e) {
            etiquetas = [];
        }
    }
    
    // Si hay etiquetas, mostrarlas
    if (etiquetas.length > 0) {
        etiquetas.forEach(etiqueta => {
            const tagElement = document.createElement('div');
            tagElement.className = 'tag';
            tagElement.textContent = etiqueta;
            tagsContainer.appendChild(tagElement);
        });
        
        tagsSection.style.display = 'block';
    } else {
        tagsSection.style.display = 'none';
    }
}

function crearBotonUnicoTamaño(precio) {
    const sizeButtons = document.getElementById('sizeOptions');
    const button = document.createElement('button');
    button.className = 'size-btn active';
    button.setAttribute('data-size', 'único');
    button.setAttribute('data-price', precio);
    button.textContent = 'Único tamaño';
    sizeButtons.appendChild(button);
    selectedSize = 'único';
}

// Funcionalidad de WhatsApp
function configurarWhatsApp() {
    const whatsappBtn = document.getElementById('whatsappBtn');
    const whatsappForm = document.getElementById('whatsappForm');
    const submitBtn = document.getElementById('submitRequestBtn');
    const fabricationNotice = document.getElementById('fabricationNotice');
    
    whatsappBtn.addEventListener('click', function() {
        const isOpening = !whatsappForm.classList.contains('active');
        whatsappForm.classList.toggle('active');
        fabricationNotice.classList.toggle('active');
        
        if (isOpening) {
            whatsappBtn.innerHTML = '<i class="fab fa-whatsapp"></i> Ocultar formulario';
            // Desplazar hacia el aviso
            setTimeout(() => {
                fabricationNotice.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);
        } else {
            whatsappBtn.innerHTML = '<i class="fab fa-whatsapp"></i> Pedir fabricación por WhatsApp';
        }
    });
    
    submitBtn.addEventListener('click', function() {
        // Validar campos
        const nombre = document.getElementById('clientName').value.trim();
        const apellido = document.getElementById('clientLastName').value.trim();
        const telefono = document.getElementById('clientPhone').value.trim();
        const ciudad = document.getElementById('clientCity').value.trim();
        
        if (!nombre || !apellido || !telefono || !ciudad) {
            alert('Por favor, complete todos los campos obligatorios.');
            return;
        }
        
        // Validar teléfono (solo números)
        const telefonoLimpio = telefono.replace(/\D/g, '');
        if (telefonoLimpio.length < 10) {
            alert('Por favor, ingrese un número de teléfono válido.');
            return;
        }
        
        // Obtener datos del producto actual
        const producto = tiendaData.productos.find(p => (p.id || p.ID) == currentProductId);
        if (!producto) return;
        
        const precio = document.querySelector('.size-btn.active').getAttribute('data-price');
        const tamano = document.querySelector('.size-btn.active').getAttribute('data-size');
        const moneda = tiendaData.config.moneda || tiendaData.config.Moneda || 'USD';
        
        // Crear mensaje para WhatsApp
        const mensaje = `¡Hola! Quiero solicitar fabricación de:%0A%0A` +
                       `*Producto:* ${producto.nombre || producto.Nombre}%0A` +
                       `*Tamaño:* ${tamano}%0A` +
                       `*Precio:* $${parseFloat(precio).toFixed(2)} ${moneda}%0A%0A` +
                       `*Mis datos:*%0A` +
                       `- Nombre: ${nombre} ${apellido}%0A` +
                       `- Teléfono: ${telefono}%0A` +
                       `- Ciudad: ${ciudad}%0A%0A` +
                       `Me gustaría más información sobre este producto.`;
        
        // Número de WhatsApp (de configuración o por defecto)
        const numeroWhatsApp = window.whatsappNumber || tiendaData.config.whatsapp || tiendaData.config.WhatsApp || tiendaData.config.WHATSAPP || '584141234567';
        const whatsappURL = `https://wa.me/${numeroWhatsApp}?text=${mensaje}`;
        
        // Abrir WhatsApp
        window.open(whatsappURL, '_blank');
        
        // Limpiar formulario
        document.getElementById('clientName').value = '';
        document.getElementById('clientLastName').value = '';
        document.getElementById('clientPhone').value = '';
        document.getElementById('clientCity').value = '';
        
        // Cerrar formulario
        whatsappForm.classList.remove('active');
        fabricationNotice.classList.remove('active');
        whatsappBtn.innerHTML = '<i class="fab fa-whatsapp"></i> Pedir fabricación por WhatsApp';
    });
}

// Funcionalidad del carrusel de imágenes
function configurarCarrusel() {
    const prevBtn = document.getElementById('prevImageBtn');
    const nextBtn = document.getElementById('nextImageBtn');
    
    prevBtn.addEventListener('click', () => {
        if (currentProductImages.length <= 1) return;
        currentImageIndex = (currentImageIndex - 1 + currentProductImages.length) % currentProductImages.length;
        actualizarImagenPopup();
        actualizarMiniaturas();
    });
    
    nextBtn.addEventListener('click', () => {
        if (currentProductImages.length <= 1) return;
        currentImageIndex = (currentImageIndex + 1) % currentProductImages.length;
        actualizarImagenPopup();
        actualizarMiniaturas();
    });
}

// Inicializar aplicación
async function inicializarAplicacion() {
    // Mostrar loader
    document.getElementById('loader').classList.add('active');
    
    // Cargar datos desde JSON
    const exito = await cargarDatosDesdeJSON();
    
    if (!exito) {
        document.getElementById('loader').innerHTML = `
            <i class="fas fa-exclamation-triangle" style="color: #e74c3c;"></i>
            <p>Error cargando productos desde el archivo JSON</p>
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 15px; text-align: left; max-width: 500px; margin-left: auto; margin-right: auto;">
                <p style="font-size: 14px; margin-bottom: 10px;"><strong>Posibles causas:</strong></p>
                <ol style="font-size: 13px; text-align: left; margin-left: 20px;">
                    <li>El archivo data.json no existe</li>
                    <li>El archivo data.json tiene errores de sintaxis</li>
                    <li>Problema temporal de conexión</li>
                </ol>
                <p style="font-size: 12px; margin-top: 10px;">
                    Verifica que el archivo data.json esté en el mismo directorio que index.html.
                </p>
            </div>
        `;
        return;
    }
    
    // Ocultar loader, mostrar contenido
    document.getElementById('loader').classList.remove('active');
    document.getElementById('content').style.display = 'block';
    
    // Configurar tienda
    configurarTienda();
    
    // Mostrar productos y categorías
    mostrarProductos();
    mostrarCategorias();
    
    // Configurar buscador
    configurarBuscador();
    
    // Configurar WhatsApp
    configurarWhatsApp();
    
    // Configurar carrusel de imágenes
    configurarCarrusel();
    
    // Configurar eventos del popup
    document.getElementById('closePopup').addEventListener('click', cerrarPopup);
    document.getElementById('productPopup').addEventListener('click', (e) => {
        if (e.target === document.getElementById('productPopup')) {
            cerrarPopup();
        }
    });
    
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && document.getElementById('productPopup').classList.contains('active')) {
            cerrarPopup();
        }
    });
    
    // Cargar imagen de perfil con fallback
    const profileImg = document.querySelector('.profile-circle img');
    profileImg.onerror = function() {
        this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzBlYTVhNSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LXNpemU9IjI0IiBkeT0iMC4zZW0iIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNmZmYiIGZvbnQtZmFtaWx5PSJBcmlhbCxzYW5zLXNlcmlmIj5NPC90ZXh0Pjwvc3ZnPg==';
    };
}

function cerrarPopup() {
    document.getElementById('productPopup').classList.remove('active');
    document.body.style.overflow = 'auto';
}

// Iniciar la aplicación cuando carga la página
document.addEventListener('DOMContentLoaded', inicializarAplicacion);
</script>
</body>
</html>
